version: "1.0"
namespace: wippy.embeddings.migrations

entries:
  # Requirements
  - name: app_db
    kind: ns.requirement
    meta:
      description: "Application database ID"
    targets:
      - entry: 01_create_embeddings_table
        path: ".meta.target_db"

  # wippy.embeddings.migrations:01_create_embeddings_table
  - name: 01_create_embeddings_table
    kind: function.lua
    meta:
      type: migration
      tags:
        - embeddings
        - vector
        - database
      description: Create embeddings_512 table for vector embeddings storage
      target_db: app:db
      timestamp: "2025-04-05T09:00:00Z"
    source: file://01_create_embeddings_table.lua
    imports:
      migration: wippy.migration:migration
    method: migrate
